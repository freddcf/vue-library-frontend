"use strict";(self["webpackChunklivraria_wda_web"]=self["webpackChunklivraria_wda_web"]||[]).push([[822],{2389:function(e,a,t){var i=t(1006);a["Z"]={buscarTodos:()=>i.Z.get("/editoras"),inserir:e=>i.Z.post("/editoras",e),alterar:(e,a)=>i.Z.put(`/editoras/${e}`,a),deletar:e=>i.Z["delete"](`/editoras/${e}`)}},3082:function(e,a,t){t.d(a,{Z:function(){return p}});var i=t(3396),l=t(7139);const r=["aria-hidden","aria-label"],o=["fill","width","height"],n={d:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"},d={key:0};function s(e,a,t,s,u,c){return(0,i.wg)(),(0,i.iD)("span",(0,i.dG)({"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon account-icon",role:"img"},e.$attrs,{onClick:a[0]||(a[0]=a=>e.$emit("click",a))}),[((0,i.wg)(),(0,i.iD)("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[(0,i._)("path",n,[t.title?((0,i.wg)(),(0,i.iD)("title",d,(0,l.zw)(t.title),1)):(0,i.kq)("",!0)])],8,o))],16,r)}var u={name:"AccountIcon",props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},c=t(89);const m=(0,c.Z)(u,[["render",s]]);var p=m},3058:function(e,a,t){t.d(a,{Z:function(){return p}});var i=t(3396),l=t(7139);const r=["aria-hidden","aria-label"],o=["fill","width","height"],n={d:"M19,9V7A2,2 0 0,0 17,5H16V2H14V5H13A2,2 0 0,0 11,7V9A2,2 0 0,0 9,11V12H5A2,2 0 0,0 3,14V22H6V20H8V22H12V20H14V22H16V20H18V22H21V11A2,2 0 0,0 19,9M8,18H6V16H8V18M14,18H12V16H14V18M14,14H12V12H14V14M13,9V7H17V9H13M18,18H16V16H18V18M18,14H16V12H18V14Z"},d={key:0};function s(e,a,t,s,u,c){return(0,i.wg)(),(0,i.iD)("span",(0,i.dG)({"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon city-variant-icon",role:"img"},e.$attrs,{onClick:a[0]||(a[0]=a=>e.$emit("click",a))}),[((0,i.wg)(),(0,i.iD)("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[(0,i._)("path",n,[t.title?((0,i.wg)(),(0,i.iD)("title",d,(0,l.zw)(t.title),1)):(0,i.kq)("",!0)])],8,o))],16,r)}var u={name:"CityVariantIcon",props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},c=t(89);const m=(0,c.Z)(u,[["render",s]]);var p=m},5302:function(e,a,t){t.d(a,{Z:function(){return p}});var i=t(3396),l=t(7139);const r=["aria-hidden","aria-label"],o=["fill","width","height"],n={d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"},d={key:0};function s(e,a,t,s,u,c){return(0,i.wg)(),(0,i.iD)("span",(0,i.dG)({"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon email-icon",role:"img"},e.$attrs,{onClick:a[0]||(a[0]=a=>e.$emit("click",a))}),[((0,i.wg)(),(0,i.iD)("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[(0,i._)("path",n,[t.title?((0,i.wg)(),(0,i.iD)("title",d,(0,l.zw)(t.title),1)):(0,i.kq)("",!0)])],8,o))],16,r)}var u={name:"EmailIcon",props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},c=t(89);const m=(0,c.Z)(u,[["render",s]]);var p=m},4464:function(e,a,t){t.d(a,{Z:function(){return p}});var i=t(3396),l=t(7139);const r=["aria-hidden","aria-label"],o=["fill","width","height"],n={d:"M0,21V10L7.5,5L15,10V21H10V14H5V21H0M24,2V21H17V8.93L16,8.27V6H14V6.93L10,4.27V2H24M21,14H19V16H21V14M21,10H19V12H21V10M21,6H19V8H21V6Z"},d={key:0};function s(e,a,t,s,u,c){return(0,i.wg)(),(0,i.iD)("span",(0,i.dG)({"aria-hidden":!t.title,"aria-label":t.title,class:"material-design-icon home-city-icon",role:"img"},e.$attrs,{onClick:a[0]||(a[0]=a=>e.$emit("click",a))}),[((0,i.wg)(),(0,i.iD)("svg",{fill:t.fillColor,class:"material-design-icon__svg",width:t.size,height:t.size,viewBox:"0 0 24 24"},[(0,i._)("path",n,[t.title?((0,i.wg)(),(0,i.iD)("title",d,(0,l.zw)(t.title),1)):(0,i.kq)("",!0)])],8,o))],16,r)}var u={name:"HomeCityIcon",props:{title:{type:String},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},c=t(89);const m=(0,c.Z)(u,[["render",s]]);var p=m},4430:function(e,a,t){t.r(a),t.d(a,{default:function(){return X}});var i=t(3396);const l={class:"main-container"};function r(e,a,t,r,o,n){const d=(0,i.up)("Livros");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(d)])}const o=e=>((0,i.dD)("data-v-40dbcffe"),e=e(),(0,i.Cn)(),e),n={class:"table-content"},d={class:"table-header-header"},s=o((()=>(0,i._)("h2",{class:"table-tile"},"Livros",-1))),u=(0,i.Uk)(" Ações "),c=(0,i.Uk)("Editar"),m=(0,i.Uk)("Deletar "),p={style:{"text-align":"center"}};function h(e,a,t,l,r,o){const h=(0,i.up)("Modal"),v=(0,i.up)("el-input"),g=(0,i.up)("el-table-column"),y=(0,i.up)("el-button"),w=(0,i.up)("el-table"),f=(0,i.up)("el-pagination");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(h,{class:"modal",onClose:l.toggleModal,onModalFunc:o.modalFunc,modalActive:l.modalActive,modalType:r.modalType,editoras:r.editoras,livroAlterar:r.livroAlterar},null,8,["onClose","onModalFunc","modalActive","modalType","editoras","livroAlterar"]),(0,i._)("div",n,[(0,i._)("div",d,[s,(0,i._)("button",{class:"table-newitem-btn",onClick:a[0]||(a[0]=e=>(l.toggleModal(),o.changeModalType("inserir"))),type:"button"},"Novo"),(0,i.Wm)(v,{class:"table-search-input",modelValue:this.search,"onUpdate:modelValue":a[1]||(a[1]=e=>this.search=e),onKeydown:o.searchItem,placeholder:"Digite para pesquisar"},null,8,["modelValue","onKeydown"])]),(0,i.Wm)(w,{data:r.filterTableData},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{prop:"id",label:"ID",width:"80"}),(0,i.Wm)(g,{prop:"name",label:"Nome",width:"130"}),(0,i.Wm)(g,{prop:"author",label:"Autor",width:"120"}),(0,i.Wm)(g,{prop:"editora",label:"Editora",width:"120"}),(0,i.Wm)(g,{prop:"lancamento",label:"Lançamento",width:"100"}),(0,i.Wm)(g,{prop:"quantidade",label:"Quantidade",width:"100",align:"center"}),(0,i.Wm)(g,{width:"200",align:"center"},{header:(0,i.w5)((()=>[u])),default:(0,i.w5)((e=>[(0,i.Wm)(y,{onClick:a=>o.changeModalType("alterar",e.row)},{default:(0,i.w5)((()=>[c])),_:2},1032,["onClick"]),(0,i.Wm)(y,{type:"danger",onClick:a=>o.handleDelete(e.row)},{default:(0,i.w5)((()=>[m])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,i._)("div",p,[(0,i.Wm)(f,{background:"",layout:"prev, pager, next",onCurrentChange:e.handleCurrentChange,"page-size":e.pageSize,total:e.total},null,8,["onCurrentChange","page-size","total"])])])])}t(6699);var v=t(1006),g={buscarTodos:()=>v.Z.get("/livros"),inserir:e=>v.Z.post("/livros",e),alterar:(e,a)=>v.Z.put(`/livros/${e}`,a),deletar:e=>v.Z["delete"](`/livros/${e}`)},y=t(2389),w=t(9242);const f=e=>((0,i.dD)("data-v-51fb9dd7"),e=e(),(0,i.Cn)(),e),b={class:"modal-wrapper"},V=f((()=>(0,i._)("h2",null,"Cadastrar Livro",-1))),k={class:"input-container"},_=f((()=>(0,i._)("label",{for:"name-input"},"Nome do Livro:",-1))),C={class:"input-box"},A={class:"input-container"},H=f((()=>(0,i._)("label",{for:"author-input"},"Autor do Livro:",-1))),D={class:"input-box"},T={class:"input-container"},M=f((()=>(0,i._)("label",{for:"editora-input"},"Editora do Livro:",-1))),Z={class:"input-box"},q={class:"input-container"},L=f((()=>(0,i._)("label",{for:"lancamento-input"},"Data de lançamento do Livro:",-1))),z={class:"input-box date"},W={class:"input-container"},I=f((()=>(0,i._)("label",{for:"quantidade-input"},"Quantidade de Livros:",-1))),x={class:"input-box"},U={class:"input-container"};function $(e,a,t,l,r,o){const n=(0,i.up)("AccountIcon"),d=(0,i.up)("CityVariantIcon"),s=(0,i.up)("el-option"),u=(0,i.up)("el-select"),c=(0,i.up)("HomeCityIcon"),m=(0,i.up)("EmailIcon");return(0,i.wg)(),(0,i.j4)(w.uT,{name:"modal-animation"},{default:(0,i.w5)((()=>[(0,i.wy)((0,i._)("div",b,[(0,i.wy)((0,i._)("form",{id:"user-form",onSubmit:a[12]||(a[12]=e=>o.enviarFormulario(e))},[V,(0,i._)("div",k,[_,(0,i._)("div",C,["inserir"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",name:"name",id:"name-input","onUpdate:modelValue":a[0]||(a[0]=e=>r.livro.name=e)},null,512)),[[w.nr,r.livro.name]]):(0,i.kq)("",!0),"alterar"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text",name:"name",id:"name-input","onUpdate:modelValue":a[1]||(a[1]=e=>t.livroAlterar.name=e)},null,512)),[[w.nr,t.livroAlterar.name]]):(0,i.kq)("",!0),(0,i.Wm)(n)])]),(0,i._)("div",A,[H,(0,i._)("div",D,["inserir"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",name:"author",id:"author-input","onUpdate:modelValue":a[2]||(a[2]=e=>r.livro.author=e)},null,512)),[[w.nr,r.livro.author]]):(0,i.kq)("",!0),"alterar"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text",name:"author",id:"author-input","onUpdate:modelValue":a[3]||(a[3]=e=>t.livroAlterar.author=e)},null,512)),[[w.nr,t.livroAlterar.author]]):(0,i.kq)("",!0),(0,i.Wm)(d)])]),(0,i._)("div",T,[M,(0,i._)("div",Z,["inserir"==t.modalType?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"el-select",name:"editora",id:"editora-input",modelValue:r.livro.editora,"onUpdate:modelValue":a[4]||(a[4]=e=>r.livro.editora=e),placeholder:"..."},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.editoras,(e=>((0,i.wg)(),(0,i.j4)(s,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):(0,i.kq)("",!0),"alterar"==t.modalType?((0,i.wg)(),(0,i.j4)(u,{key:1,class:"el-select",name:"editora",id:"editora-input",modelValue:t.livroAlterar.editora,"onUpdate:modelValue":a[5]||(a[5]=e=>t.livroAlterar.editora=e),placeholder:"Editora"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.editoras,(e=>((0,i.wg)(),(0,i.j4)(s,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):(0,i.kq)("",!0),(0,i.Wm)(c)])]),(0,i._)("div",q,[L,(0,i._)("div",z,["inserir"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"date",placeholder:"dd-mm-yyyy",name:"lancamento",id:"lancamento-input","onUpdate:modelValue":a[6]||(a[6]=e=>r.livro.lancamento=e)},null,512)),[[w.nr,r.livro.lancamento]]):(0,i.kq)("",!0),"alterar"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"date",placeholder:"dd-mm-yyyy",name:"lancamento",id:"lancamento-input","onUpdate:modelValue":a[7]||(a[7]=e=>t.livroAlterar.lancamento=e)},null,512)),[[w.nr,t.livroAlterar.lancamento]]):(0,i.kq)("",!0),(0,i.Wm)(m)])]),(0,i._)("div",W,[I,(0,i._)("div",x,["inserir"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:0,type:"text",name:"quantidade",id:"quantidade-input","onUpdate:modelValue":a[8]||(a[8]=e=>r.livro.quantidade=e)},null,512)),[[w.nr,r.livro.quantidade]]):(0,i.kq)("",!0),"alterar"==t.modalType?(0,i.wy)(((0,i.wg)(),(0,i.iD)("input",{key:1,type:"text",name:"quantidade",id:"quantidade-input","onUpdate:modelValue":a[9]||(a[9]=e=>t.livroAlterar.quantidade=e)},null,512)),[[w.nr,t.livroAlterar.quantidade]]):(0,i.kq)("",!0),(0,i.Wm)(m)])]),(0,i._)("div",U,[(0,i._)("input",{onClick:a[10]||(a[10]=e=>l.close()),class:"submit-btn",type:"button",value:"Fechar"}),(0,i._)("input",{onClick:a[11]||(a[11]=e=>o.changeModalConfig(t.modalType)),class:"cancel-btn",type:"submit",value:"Salvar"})])],544),[[w.F8,t.modalActive]])],512),[[w.F8,t.modalActive]])])),_:1})}var F=t(3082),S=t(3058),E=t(4464),N=t(5302),j={name:"Modal",components:{AccountIcon:F.Z,CityVariantIcon:S.Z,HomeCityIcon:E.Z,EmailIcon:N.Z},props:["modalActive","modalType","editoras","livroAlterar"],setup(e,{emit:a}){const t=()=>{a("close")};return{close:t}},data(){return{livro:{id:"",name:"",author:"",editora:"",lancamento:"",quantidade:""},livroParaAlterar:this.livroAlterar}},methods:{enviarFormulario(e){e.preventDefault(),this.close()},changeModalConfig(e){this.livroParaAlterar=this.livroAlterar,console.log(this.livroParaAlterar),"inserir"==this.modalType&&this.$emit("modalFunc",this.modalType,this.livro),"alterar"==this.modalType&&this.$emit("modalFunc",this.modalType,this.livroParaAlterar),this.livro={}}}},B=t(89);const G=(0,B.Z)(j,[["render",$],["__scopeId","data-v-51fb9dd7"]]);var K=G,P=t(4870),Q={name:"Livros",components:{Modal:K},setup(){const e=(0,P.iH)(!1),a=()=>{e.value=!e.value};return{modalActive:e,toggleModal:a}},data(){return{modalType:"",filterTableData:[],search:"",editoras:[],livros:[],livroAlterar:{}}},methods:{changeModalType(e,a){"inserir"==e&&(this.modalType="inserir"),"alterar"==e&&(this.livroAlterar=a,console.log(a),this.modalType="alterar",this.toggleModal())},modalFunc(e,a){console.log(a),console.log(e),"inserir"==e&&this.inserir(a),"alterar"==e&&this.alterar(a)},handleDelete(e){this.deletar(e.id)},searchItem(){this.filterTableData=(0,i.Fl)((()=>this.livros.filter((e=>!this.search||e.name.toLowerCase().includes(this.search.toLowerCase())))))},async buscarTodos(){await g.buscarTodos().then((e=>{this.livros=e.data.result})),this.buscarTodasEditoras()},async buscarTodasEditoras(){await y.Z.buscarTodos().then((e=>{this.editoras=e.data.result}))},async inserir(e){await g.inserir(e).then((e=>{const a=e.data;this.reloadData(),console.log(a)}))},async alterar(e){await g.alterar(e.id,e).then((e=>{this.reloadData(),console.log(e.data)}))},async deletar(e){await g.deletar(e).then((e=>{this.reloadData(),console.log(e.data)}))},reloadData(){setTimeout((()=>{this.buscarTodos()}),1e3)}},mounted(){this.buscarTodos(),this.searchItem()}};const Y=(0,B.Z)(Q,[["render",h],["__scopeId","data-v-40dbcffe"]]);var J=Y,O={components:{Livros:J}};const R=(0,B.Z)(O,[["render",r]]);var X=R}}]);
//# sourceMappingURL=livros.a80c1a34.js.map